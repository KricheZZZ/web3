<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="icon" href="https://img.icons8.com/color/96/000000/crab.png" type="image/x-icon">
    <meta charset="UTF-8">
    <!-- Важный тег для адаптивности: обеспечивает правильный масштаб на мобильных устройствах -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Клеш Рояль | Весёлая Ферма</title>
    
    <!-- Подключение шрифтов Google Fonts для красивого отображения текста -->
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Библиотека иконок Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Наш единственный и главный файл стилей -->
<style>
/* ========== ОСНОВНЫЕ СТИЛИ И СБРОС ========== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    /* Цветовая палитра в тёплых фермерских тонах */
    --primary-color: #4CAF50;      /* Зелёный - основной */
    --primary-dark: #388E3C;       /* Тёмно-зелёный */
    --secondary-color: #FF9800;    /* Оранжевый - акцентный */
    --accent-color: #FF5722;       /* Терракотовый */
    --light-color: #FFF8F0;        /* Светлый кремовый фон */
    --dark-color: #5D4037;         /* Тёмно-коричневый для текста */
    --text-color: #5D4037;
    --border-color: #D7CCC8;       /* Светло-бежевый для границ */
    --shadow: 0 6px 16px rgba(139, 69, 19, 0.1); /* Тень с коричневым оттенком */
    --transition: all 0.3s ease;
    --border-radius: 16px;         /* Закруглённые углы */
}

html {
    scroll-behavior: smooth; /* Плавная прокрутка по якорным ссылкам */
}

body {
    font-family: 'Nunito', sans-serif;
    line-height: 1.6;
    color: var(--text-color);
    background-color: var(--light-color);
    overflow-x: hidden; /* Скрываем горизонтальный скролл */
}

.container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
}

.section {
    padding: 50px 0;
}

/* Стили для заголовков с игривым шрифтом */
h1, h2, h3, h4 {
    font-family: 'Comic Neue', cursive;
    color: var(--dark-color);
    margin-bottom: 1rem;
}

h1 {
    font-size: 2.2rem;
    line-height: 1.2;
}

h2 {
    font-size: 1.8rem;
    text-align: center;
    margin-bottom: 1rem;
    position: relative;
}

/* Декоративная полоска под заголовком секции */
h2::after {
    content: '';
    display: block;
    width: 80px;
    height: 4px;
    background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
    margin: 10px auto 25px;
    border-radius: 2px;
}

h3 {
    font-size: 1.4rem;
}

.section-title p {
    text-align: center;
    color: #795548;
    margin-bottom: 40px;
    font-size: 1.05rem;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}

p {
    margin-bottom: 1rem;
}

a {
    text-decoration: none;
    color: inherit;
}

/* Стиль для основных кнопок */
.btn {
    display: inline-block;
    padding: 14px 28px;
    background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
    color: white;
    border: none;
    border-radius: 50px;
    font-weight: 700;
    font-family: 'Comic Neue', cursive;
    cursor: pointer;
    text-decoration: none;
    transition: var(--transition);
    text-align: center;
    font-size: 1.05rem;
    box-shadow: 0 4px 8px rgba(76, 175, 80, 0.2);
}

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 16px rgba(76, 175, 80, 0.3);
    background: linear-gradient(135deg, var(--primary-dark), #2E7D32);
}

/* ========== HEADER / ШАПКА С ВИДЕО ========== */
header {
    position: relative;
    height: 100vh;
    min-height: 600px;
    color: white;
    overflow: hidden;
}

.video-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
}

.video-container video {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Видео заполняет весь контейнер, обрезаясь если нужно */
}

.overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, rgba(106, 61, 15, 0.7), rgba(76, 175, 80, 0.3));
}

/* ========== NAVIGATION / НАВИГАЦИЯ ========== */
nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 5%;
    position: relative;
    z-index: 10;
}

.logo {
    font-family: 'Comic Neue', cursive;
    font-size: 1.6rem;
    font-weight: 700;
    color: white;
    display: flex;
    align-items: center;
    gap: 8px;
}

.logo span {
    color: var(--secondary-color);
}

/* Десктопное меню */
.nav-links {
    display: none; /* По умолчанию скрыто на мобильных */
    list-style: none;
    align-items: center;
    gap: 25px;
}

.nav-links li {
    position: relative;
}

.nav-links a {
    color: white;
    font-weight: 600;
    font-size: 1rem;
    padding: 8px 0;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 6px;
}

.nav-links a:hover {
    color: var(--secondary-color);
}

/* Выпадающее подменю */
.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    background-color: white;
    min-width: 180px;
    box-shadow: var(--shadow);
    border-radius: 10px;
    padding: 10px 0;
    list-style: none;
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px);
    transition: var(--transition);
    z-index: 100;
}

.dropdown:hover .dropdown-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.dropdown-menu a {
    color: var(--dark-color);
    padding: 10px 20px;
    display: block;
}

.dropdown-menu a:hover {
    background-color: rgba(76, 175, 80, 0.1);
    color: var(--primary-color);
}

/* Кнопка "бургер" для мобильных */
.burger {
    display: flex;
    flex-direction: column;
    gap: 4px;
    cursor: pointer;
    padding: 5px;
}

.burger div {
    width: 25px;
    height: 3px;
    background-color: white;
    border-radius: 2px;
    transition: var(--transition);
}

/* Когда меню открыто, бургер превращается в крестик */
.burger.active div:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
}

.burger.active div:nth-child(2) {
    opacity: 0;
}

.burger.active div:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -6px);
}

/* Мобильное меню (открывается сбоку) */
.mobile-menu {
    position: fixed;
    top: 0;
    right: -100%;
    width: 80%;
    max-width: 300px;
    height: 100vh;
    background-color: white;
    padding: 30px 25px;
    z-index: 1000;
    box-shadow: -5px 0 25px rgba(0, 0, 0, 0.1);
    transition: right 0.4s ease;
    overflow-y: auto;
}

.mobile-menu.active {
    right: 0;
}

.mobile-menu ul {
    list-style: none;
    margin-top: 40px;
}

.mobile-menu li {
    margin-bottom: 15px;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 15px;
}

.mobile-menu a {
    color: var(--dark-color);
    font-weight: 600;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 12px;
}

.mobile-menu a:hover {
    color: var(--primary-color);
}

.menu-close {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    font-size: 1.8rem;
    color: var(--dark-color);
    cursor: pointer;
}

/* Затемнение фона при открытом мобильном меню */
.mobile-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
    opacity: 0;
    visibility: hidden;
    transition: var(--transition);
}

.mobile-overlay.active {
    opacity: 1;
    visibility: visible;
}

/* ========== HERO SECTION / ГЛАВНЫЙ БАННЕР ========== */
.hero {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 0 5% 80px;
    z-index: 5;
}

.hero h1 {
    font-size: 2.2rem;
    margin-bottom: 15px;
    color: white;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.hero p {
    font-size: 1.1rem;
    margin-bottom: 30px;
    color: rgba(255, 255, 255, 0.9);
    max-width: 600px;
}

.hero .btn {
    background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
    align-self: flex-start;
}

.hero .btn:hover {
    background: linear-gradient(135deg, #F57C00, #E64A19);
}

/* ========== PRODUCTS SECTION / КАРТОЧКИ ПРОДУКЦИИ ========== */
.models-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 30px;
    margin-top: 20px;
}

.model-card {
    background-color: white;
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: var(--transition);
    border: 1px solid var(--border-color);
}

.model-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 30px rgba(139, 69, 19, 0.15);
}

.model-img {
    height: 200px;
    overflow: hidden;
}

.model-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.model-card:hover .model-img img {
    transform: scale(1.05);
}

.model-info {
    padding: 20px;
}

.model-info h3 {
    margin-bottom: 10px;
    color: var(--primary-dark);
}

.model-info p {
    color: #795548;
    font-size: 0.95rem;
    margin-bottom: 15px;
}

.model-price {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary-color);
    margin-bottom: 15px;
    font-family: 'Comic Neue', cursive;
}

/* Выбор цвета/типа продукта */
.color-picker h4 {
    font-size: 1rem;
    margin-bottom: 10px;
    color: #795548;
}

.color-options {
    display: flex;
    gap: 12px;
}

.color-option {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    border: 3px solid transparent;
    transition: var(--transition);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.color-option:hover {
    transform: scale(1.1);
}

.color-option.active {
    border-color: var(--dark-color);
    transform: scale(1.1);
}

/* ========== TABLE SECTION / ТАБЛИЦА ========== */
.table-container {
    overflow-x: auto;
    margin-top: 30px;
    border-radius: 12px;
    box-shadow: var(--shadow);
}

.performance-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 700px;
}

.performance-table thead {
    background: linear-gradient(to right, var(--primary-color), var(--primary-dark));
    color: white;
}

.performance-table th {
    padding: 18px 15px;
    text-align: left;
    font-weight: 600;
    font-family: 'Comic Neue', cursive;
}

.performance-table td {
    padding: 16px 15px;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

.performance-table tbody tr:nth-child(even) {
    background-color: #F9F9F9;
}

.performance-table tbody tr:hover {
    background-color: rgba(76, 175, 80, 0.05);
}

/* ========== GALLERY SECTION / СЛАЙДЕР-ГАЛЕРЕЯ ========== */
.gallery-container {
    position: relative;
    margin: 40px auto 20px;
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: var(--shadow);
}

.gallery-slider {
    display: flex;
    transition: transform 0.5s ease;
}

.gallery-slide {
    min-width: 100%;
    position: relative;
}

.gallery-slide img {
    width: 100%;
    height: 300px;
    object-fit: cover;
    display: block;
}

.slide-content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
    color: white;
    padding: 20px;
}

.slide-content h3 {
    color: white;
    margin-bottom: 5px;
}

.slide-content p {
    color: rgba(255, 255, 255, 0.9);
    font-size: 0.95rem;
}

/* Кнопки управления слайдером */
.gallery-controls {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    transform: translateY(-50%);
    display: flex;
    justify-content: space-between;
    padding: 0 15px;
    pointer-events: none;
}

.gallery-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.9);
    border: none;
    color: var(--dark-color);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    transition: var(--transition);
    pointer-events: all;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.gallery-btn:hover {
    background-color: white;
    transform: scale(1.1);
}

/* Точки-индикаторы под слайдером */
.gallery-dots {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 20px;
}

.gallery-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: #ccc;
    cursor: pointer;
    transition: var(--transition);
}

.gallery-dot.active {
    background-color: var(--primary-color);
    transform: scale(1.2);
}

/* ========== CALCULATOR SECTION / КАЛЬКУЛЯТОР ========== */
.calculator {
    max-width: 800px;
    margin: 40px auto 0;
    background-color: white;
    border-radius: var(--border-radius);
    padding: 30px;
    box-shadow: var(--shadow);
}

.calculator-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-group label {
    font-weight: 600;
    color: var(--dark-color);
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.form-group select,
.form-group input[type="range"] {
    padding: 14px;
    border: 2px solid var(--border-color);
    border-radius: 10px;
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
    transition: var(--transition);
}

.form-group select:focus,
.form-group input[type="range"]:focus {
    border-color: var(--primary-color);
    outline: none;
}

/* Стилизация ползунка */
input[type="range"] {
    -webkit-appearance: none;
    height: 8px;
    background: #E0E0E0;
    border-radius: 5px;
    outline: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--primary-color);
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.form-group.full-width {
    grid-column: 1 / -1;
}

.options-group {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 15px;
    margin-top: 10px;
}

.option-checkbox {
    display: flex;
    align-items: center;
    gap: 10px;
}

.option-checkbox input[type="checkbox"] {
    width: 20px;
    height: 20px;
    accent-color: var(--primary-color);
}

.option-checkbox label {
    font-weight: normal;
    cursor: pointer;
}

/* Блок с результатом расчёта */
.calculator-result {
    text-align: center;
    padding: 25px;
    background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
    border-radius: 12px;
    margin-top: 20px;
}

.calculator-result h3 {
    margin-bottom: 10px;
    color: var(--primary-dark);
}

.total-price {
    font-size: 2.8rem;
    font-weight: 700;
    color: var(--primary-color);
    margin: 10px 0;
    font-family: 'Comic Neue', cursive;
}

.hint {
    color: #666;
    font-size: 0.9rem;
    margin-top: 5px;
}

/* ========== BLOG SECTION / БЛОГ ========== */
.blog-controls {
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin: 30px 0;
}

.blog-categories {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
}

.category-btn {
    padding: 10px 20px;
    background-color: white;
    border: 2px solid var(--border-color);
    border-radius: 30px;
    font-family: 'Nunito', sans-serif;
    font-weight: 600;
    color: var(--text-color);
    cursor: pointer;
    transition: var(--transition);
}

.category-btn:hover,
.category-btn.active {
    background-color: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.blog-search {
    display: flex;
    max-width: 500px;
    margin: 0 auto;
    width: 100%;
}

#blog-search {
    flex: 1;
    padding: 14px 20px;
    border: 2px solid var(--border-color);
    border-radius: 30px 0 0 30px;
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
}

.search-btn {
    padding: 0 25px;
    background: linear-gradient(to right, var(--primary-color), var(--primary-dark));
    color: white;
    border: none;
    border-radius: 0 30px 30px 0;
    cursor: pointer;
    font-size: 1.1rem;
    transition: var(--transition);
}

.search-btn:hover {
    background: linear-gradient(to right, var(--primary-dark), #2E7D32);
}

.blog-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 30px;
    margin-top: 30px;
}

.blog-card {
    background-color: white;
    border-radius: 12px;
    padding: 25px;
    box-shadow: var(--shadow);
    transition: var(--transition);
    border-left: 5px solid var(--primary-color);
}

.blog-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 24px rgba(139, 69, 19, 0.1);
}

.blog-category {
    display: inline-block;
    padding: 5px 15px;
    background-color: rgba(76, 175, 80, 0.1);
    color: var(--primary-color);
    border-radius: 30px;
    font-size: 0.8rem;
    font-weight: 700;
    margin-bottom: 12px;
}

.blog-date {
    color: #888;
    font-size: 0.9rem;
    margin-bottom: 10px;
}

.blog-card h3 {
    margin-bottom: 12px;
    font-size: 1.3rem;
}

.blog-card p {
    color: #666;
    font-size: 0.95rem;
}

.blog-load-more {
    text-align: center;
    margin-top: 50px;
}

.loading-spinner {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-left: 10px;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* ========== CONTACT FORM / КОНТАКТНАЯ ФОРМА ========== */
.contact-form {
    max-width: 700px;
    margin: 40px auto 0;
    background-color: white;
    padding: 40px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
}

.contact-form .form-group {
    margin-bottom: 25px;
}

.contact-form label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--dark-color);
}

.contact-form input,
.contact-form textarea {
    width: 100%;
    padding: 16px;
    border: 2px solid var(--border-color);
    border-radius: 10px;
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
    transition: var(--transition);
}

.contact-form input:focus,
.contact-form textarea:focus {
    border-color: var(--primary-color);
    outline: none;
}

.contact-form textarea {
    resize: vertical;
}

.contact-form .btn {
    width: 100%;
    padding: 18px;
    font-size: 1.1rem;
    margin-top: 10px;
}

/* Сообщения об успехе/ошибке после отправки формы */
.form-message {
    margin-top: 20px;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    font-weight: 600;
    display: none;
}

.form-message.success {
    background-color: rgba(76, 175, 80, 0.15);
    color: var(--primary-dark);
    border: 1px solid var(--primary-color);
    display: block;
}

.form-message.error {
    background-color: rgba(244, 67, 54, 0.15);
    color: #D32F2F;
    border: 1px solid #F44336;
    display: block;
}

/* ========== FOOTER / ПОДВАЛ ========== */
footer {
    background-color: var(--dark-color);
    color: white;
    padding: 50px 0 30px;
    margin-top: 60px;
}

.footer-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    text-align: center;
}

.footer-logo {
    font-family: 'Comic Neue', cursive;
    font-size: 2rem;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.footer-logo span {
    color: var(--secondary-color);
}

.footer-links {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 25px;
    list-style: none;
    margin: 25px 0;
}

.footer-links a {
    color: rgba(255, 255, 255, 0.8);
    transition: var(--transition);
}

.footer-links a:hover {
    color: var(--secondary-color);
}

.quote-section {
    margin: 25px 0;
    padding: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.inspiration-quote {
    font-style: italic;
    color: rgba(255, 255, 255, 0.8);
    font-size: 1.1rem;
}

.social-links {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 25px 0;
}

.social-links a {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
    background-color: rgba(255, 255, 255, 0.1);
    color: white;
    border-radius: 50%;
    font-size: 1.2rem;
    transition: var(--transition);
}

.social-links a:hover {
    background-color: var(--primary-color);
    transform: translateY(-5px);
}

.copyright {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9rem;
    margin-top: 20px;
}

/* ========== MODAL / МОДАЛЬНОЕ ОКНО ========== */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 1100;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease;
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.9);
    width: 95%;
    max-width: 500px;
    background-color: white;
    border-radius: var(--border-radius);
    z-index: 1200;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
}

.modal.active {
    opacity: 1;
    visibility: visible;
    transform: translate(-50%, -50%) scale(1);
}

.modal-content {
    padding: 30px;
    position: relative;
}

.close-modal {
    position: absolute;
    top: 20px;
    right: 25px;
    font-size: 1.8rem;
    color: var(--dark-color);
    cursor: pointer;
    background: none;
    border: none;
    line-height: 1;
    transition: var(--transition);
}

.close-modal:hover {
    color: var(--accent-color);
}

.modal-content h2 {
    text-align: left;
    margin-bottom: 25px;
}

.modal-content h2::after {
    margin: 10px 0 0;
}

/* ========== MEDIA QUERIES / АДАПТИВНОСТЬ ========== */
/* Для планшетов (ширина от 768px) */
@media (min-width: 768px) {
    h1 {
        font-size: 3rem;
    }
    
    h2 {
        font-size: 2.2rem;
    }
    
    .hero h1 {
        font-size: 2.8rem;
    }
    
    .models-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .blog-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .blog-controls {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
    }
    
    .nav-links {
        display: flex;
    }
    
    .burger {
        display: none;
    }
    
    .gallery-slide img {
        height: 400px;
    }
}

/* Для компьютеров (ширина от 992px) */
@media (min-width: 992px) {
    h1 {
        font-size: 3.5rem;
    }
    
    .hero h1 {
        font-size: 3.2rem;
    }
    
    .models-grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .blog-grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .calculator-form {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 25px;
    }
    
    .gallery-slide img {
        height: 500px;
    }
}
</style>


</head>
<body>
    <!-- ========== HEADER / ШАПКА САЙТА ========== -->
    <header>
        <!-- Контейнер для фонового видео -->
        <div class="video-container">
            <!-- Видео автоматически воспроизводится, без звука, зациклено -->
            <video autoplay muted loop playsinline>
                <source src="https://assets.codepen.io/6093409/river.mp4" type="video/mp4">
                Ваш браузер не поддерживает видео.
            </video>
            <!-- Полупрозрачный тёмный оверлей для лучшей читаемости текста поверх видео -->
            <div class="overlay"></div>
        </div>
        
        <!-- Основная навигация сайта -->
        <nav>
            <a href="#" class="logo"><i class="fas fa-crow"></i> Клеш<span>Рояль</span></a>
            <!-- Список ссылок для десктопного меню -->
            <ul class="nav-links">
                <li><a href="#"><i class="fas fa-home"></i> Главная</a></li>
                <li class="dropdown">
                    <a href="#products"><i class="fas fa-carrot"></i> Урожай</a>
                    <!-- Вложенное подменю, появляется при наведении -->
                    <ul class="dropdown-menu">
                        <li><a href="#products">Овощи</a></li>
                        <li><a href="#products">Фрукты</a></li>
                        <li><a href="#products">Молочко</a></li>
                    </ul>
                </li>
                <li><a href="#calculator"><i class="fas fa-calculator"></i> Калькулятор</a></li>
                <li><a href="#gallery"><i class="fas fa-images"></i> Галерея</a></li>
                <li><a href="#contact"><i class="fas fa-address-book"></i> Контакты</a></li>
                <!-- Кнопка для открытия модального окна с формой -->
                <li><a href="#" id="contact-btn" class="btn"><i class="fas fa-comment-dots"></i> Связь с нами</a></li>
            </ul>
            <!-- "Бургер" - кнопка для открытия меню на мобильных устройствах -->
            <div class="burger" id="burgerBtn">
                <div></div>
                <div></div>
                <div></div>
            </div>
        </nav>
        
        <!-- Герой-секция с главным заголовком и призывом к действию -->
        <div class="hero">
            <h1>Весёлая Ферма "Клеш Рояль"</h1>
            <p>Самые весёлые овощи и самые счастливые животные! Натуральные продукты от "звёзд" фермы.</p>
            <a href="#products" class="btn">Выбрать урожай</a>
        </div>
    </header>

    <!-- ========== SECTION: НАША ПРОДУКЦИЯ ========== -->
    <section id="products" class="section">
        <div class="section-title">
            <h2>Наш звёздный урожай</h2>
            <p>Выберите самые свежие и натуральные продукты с нашей фермы</p>
        </div>
        
        <div class="models-grid">
            <!-- Карточка товара 1 -->
            <div class="model-card">
                <div class="model-img">
                    <!-- Изображение будет меняться при выборе цвета через data-color на кнопках ниже -->
                    <img src="https://avatars.mds.yandex.net/i?id=262fce599ffaab67a84dcbdb7d5d8ba920b6efd7-4080301-images-thumbs&n=13" alt="Овощи" id="product-1-img">
                </div>
                <div class="model-info">
                    <h3>Овощной батальон</h3>
                    <p>Хрустящие огурцы, упругие помидоры и морковь с характером. Собраны сегодня утром!</p>
                    <div class="model-price">от 150 ₽/кг</div>
                    
                    <!-- Блок выбора "цвета" (типа овоща) -->
                    <div class="color-picker">
                        <h4>Выберите отряд:</h4>
                        <div class="color-options">
                            <!-- При клике на кнопку срабатывает JavaScript, меняющий основное изображение -->
                            <div class="color-option active" style="background-color: #ff6b6b;" data-img="https://vesti-k.ru/i/80/80a6d494f81fd30c3c681227854f551b.jpg" data-product="1" title="Помидоры"></div>
                            <div class="color-option" style="background-color: #4caf50;" data-img="https://avatars.mds.yandex.net/i?id=41e8488b1eefc56a5d0e2aa3ffcd6b37_l-5278475-images-thumbs&n=13" data-product="1" title="Огурцы"></div>
                            <div class="color-option" style="background-color: #ff9800;" data-img="https://main-cdn.sbermegamarket.ru/big2/hlr-system/115/665/071/710/252/157/100029493743b1.jpg" data-product="1" title="Морковь"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Карточка товара 2 (аналогичная структура) -->
            <div class="model-card">
                <div class="model-img">
                    <img src="https://static.mk.ru/upload/entities/2024/11/25/09/articles/facebookPicture/72/b3/63/73/11b4f3ffd24d2a3e9764a41f1cfd6640.jpg" alt="Фрукты" id="product-2-img">
                </div>
                <div class="model-info">
                    <h3>Фруктовая аристократия</h3>
                    <p>Яблоки в мундирах, клубника с королевским титулом и малина с наградой.</p>
                    <div class="model-price">от 300 ₽/кг</div>
                    <div class="color-picker">
                        <h4>Выберите двор:</h4>
                        <div class="color-options">
                            <div class="color-option active" style="background-color: #e91e63;" data-img="https://gov.khogov.ru/wp-content/uploads/sites/4/2025/05/photo_2025-05-20_17-49-38-1024x576.jpg" data-product="2" title="Клубника"></div>
                            <div class="color-option" style="background-color: #8bc34a;" data-img="https://avatars.mds.yandex.net/i?id=edd7d680376976f9e9b55c15147e22be_l-9700546-images-thumbs&n=13" data-product="2" title="Яблоки"></div>
                            <div class="color-option" style="background-color: #9c27b0;" data-img="https://avatars.mds.yandex.net/i?id=396f86ddb2b0828522672795d335eacf_l-4445663-images-thumbs&n=13" data-product="2" title="Малина"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Карточка товара 3 (аналогичная структура) -->
            <div class="model-card">
                <div class="model-img">
                    <img src="https://edaprof.ru/image/catalog/statii/tekhnologiya-proizvodstva-moloka-i-molochnoj-produkcii/moloko.jpg" alt="Молочное" id="product-3-img">
                </div>
                <div class="model-info">
                    <h3>Молочные рыцари</h3>
                    <p>Молоко от коров с гербами, творог с дворянскими титулами и сметана с печатями.</p>
                    <div class="model-price">от 200 ₽/л</div>
                    <div class="color-picker">
                        <h4>Выберите герб:</h4>
                        <div class="color-options">
                            <div class="color-option active" style="background-color: #fff9c4;" data-img="https://image.made-in-china.com/2f0j00jpfMFDmyMeoU/Custom-Logo-750ml-Round-Glass-Milk-Juice-Bottle-with-Metal-Lids.webp" data-product="3" title="Молоко"></div>
                            <div class="color-option" style="background-color: #ffecb3;" data-img="https://ir.ozone.ru/s3/multimedia-6/6359498238.jpg" data-product="3" title="Сметана"></div>
                            <div class="color-option" style="background-color: #f0f4c3;" data-img="https://main-cdn.sbermegamarket.ru/big1/hlr-system/294/117/015/111/142/8/100029565711b0.jpg" data-product="3" title="Творог"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ========== SECTION: ТАБЛИЦА СРАВНЕНИЯ ========== -->
    <section class="performance-models section">
        <div class="section-title">
            <h2>Сравнение продуктового ранга</h2>
            <p>Полезность и сезонность наших основных "трофеев" с фермы</p>
        </div>
        <!-- Таблица для сравнения характеристик -->
        <div class="table-container">
            <table class="performance-table">
                <thead>
                    <tr>
                        <th>Продукт</th>
                        <th>Сезон</th>
                        <th>Срок хранения</th>
                        <th>Главная польза</th>
                        <th>Витамины</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Помидоры</td><td>Июль-Сентябрь</td><td>2 недели</td><td>Улучшают зрение</td><td>A, C, K</td></tr>
                    <tr><td>Огурцы</td><td>Июнь-Август</td><td>1 неделя</td><td>Увлажнение</td><td>K, B5</td></tr>
                    <tr><td>Клубника</td><td>Май-Июль</td><td>3 дня</td><td>Антиоксиданты</td><td>C, B9</td></tr>
                    <tr><td>Молоко</td><td>Круглый год</td><td>5 дней</td><td>Кальций</td><td>B2, B12, D</td></tr>
                    <tr><td>Яйца</td><td>Круглый год</td><td>3 недели</td><td>Белок</td><td>B12, D, E</td></tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- ========== SECTION: ГАЛЕРЕЯ ========== -->
    <section id="gallery" class="gallery-section section">
        <div class="section-title">
            <h2>Галерея фермы "Клеш Рояль"</h2>
            <p>Жизнь на нашей весёлой ферме в картинках</p>
        </div>
        
        <div class="gallery-container">
            <!-- Дорожка слайдера, которая сдвигается горизонтально -->
            <div class="gallery-slider" id="gallerySlider">
                <!-- Слайд 1 -->
                <div class="gallery-slide active">
                    <img src="https://avatars.mds.yandex.net/i?id=46be3d672908a3e4e0ac58351ad1b2f5_l-5315583-images-thumbs&n=13" alt="Поле">
                    <div class="slide-content">
                        <h3>Наши королевские поля</h3>
                        <p>Широкие, солнечные поля, где растут самые отборные овощи.</p>
                    </div>
                </div>
                <!-- Слайд 2 -->
                <div class="gallery-slide">
                    <img src="https://s0.rbk.ru/v6_top_pics/media/img/8/41/756070723593418.jpg" alt="Коровы">
                    <div class="slide-content">
                        <h3>Счастливые коровы-аристократки</h3>
                        <p>Наши коровы пасутся на зелёных лугах, давая самое вкусное молоко.</p>
                    </div>
                </div>
                <!-- Слайд 3 -->
                <div class="gallery-slide">
                    <img src="https://static.tildacdn.com/tild6263-3333-4832-a361-373763366365/__2024-02-11__144828.png" alt="Урожай">
                    <div class="slide-content">
                        <h3>Торжественный сбор урожая</h3>
                        <p>Каждый день мы собираем спелые фрукты и овощи для вашего стола.</p>
                    </div>
                </div>
            </div>
            
            <!-- Кнопки управления слайдером -->
            <div class="gallery-controls">
                <button class="gallery-btn prev-btn" id="prevBtn">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="gallery-btn next-btn" id="nextBtn">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            
            <!-- Индикаторы (точки) для навигации по слайдам -->
            <div class="gallery-dots" id="galleryDots">
                <span class="gallery-dot active" data-slide="0"></span>
                <span class="gallery-dot" data-slide="1"></span>
                <span class="gallery-dot" data-slide="2"></span>
            </div>
        </div>
    </section>

    <!-- ========== SECTION: КАЛЬКУЛЯТОР СТОИМОСТИ ========== -->
    <section id="calculator" class="section">
        <div class="section-title">
            <h2>Калькулятор заказа</h2>
            <p>Рассчитайте стоимость вашей корзины с фермерскими продуктами</p>
        </div>
        
        <div class="calculator">
            <!-- Форма калькулятора. Событие 'input' на элементах вызывает пересчёт -->
            <form class="calculator-form" id="price-calculator">
                <div class="form-group">
                    <label for="product">Тип продукта</label>
                    <select id="product" name="product">
                        <option value="150">Овощи (150 ₽/кг)</option>
                        <option value="300">Фрукты (300 ₽/кг)</option>
                        <option value="200">Молоко (200 ₽/л)</option>
                        <option value="400">Мёд (400 ₽/бут.)</option>
                        <option value="500">Сыр (500 ₽/кг)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="quantity">Количество: <span id="quantityValue">5</span> кг/л</label>
                    <!-- Ползунок для выбора количества -->
                    <input type="range" id="quantity" name="quantity" min="1" max="20" value="5">
                </div>
                
                <div class="form-group">
                    <label for="delivery">Доставка</label>
                    <select id="delivery" name="delivery">
                        <option value="0">Самовывоз (бесплатно)</option>
                        <option value="300">По городу (300 ₽)</option>
                        <option value="500">За город (500 ₽)</option>
                    </select>
                </div>
                
                <div class="form-group full-width">
                    <label>Дополнительно</label>
                    <div class="options-group">
                        <div class="option-checkbox">
                            <input type="checkbox" id="gift" name="gift" value="200">
                            <label for="gift">Подарочная упаковка (+200 ₽)</label>
                        </div>
                        <div class="option-checkbox">
                            <input type="checkbox" id="organic" name="organic" value="150">
                            <label for="organic">Сертификат "Био" (+150 ₽)</label>
                        </div>
                    </div>
                </div>
                
                <!-- Блок с результатом вычислений -->
                <div class="calculator-result">
                    <h3>Итоговая стоимость</h3>
                    <div class="total-price" id="total-price">1 050 ₽</div>
                    <p class="hint">(5 кг овощей × 150 ₽ + доставка 0 ₽)</p>
                </div>
            </form>
        </div>
    </section>

    <!-- ========== SECTION: БЛОГ ========== -->
    <section id="blog" class="section">
        <div class="section-title">
            <h2>Фермерский блог & Новости</h2>
            <p>Советы, новости и события с нашей фермы</p>
        </div>
        
        <!-- Панель управления блогом: фильтрация и поиск -->
        <div class="blog-controls">
            <div class="blog-categories">
                <!-- Кнопки фильтров. При клике вызывается фильтрация статей -->
                <button class="category-btn active" data-category="all">Все новости</button>
                <button class="category-btn" data-category="news">Новости</button>
                <button class="category-btn" data-category="tips">Советы</button>
                <button class="category-btn" data-category="events">События</button>
            </div>
            <div class="blog-search">
                <input type="text" id="blog-search" placeholder="Поиск по статьям...">
                <button class="search-btn" id="searchBtn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
        
        <!-- Контейнер, в который JavaScript вставит карточки статей -->
<div class="blog-grid" id="blog-grid">
    <!-- Статья 1 -->
    <article class="blog-card">
        <div class="blog-category">Советы</div>
        <div class="blog-date">20 марта 2024 г.</div>
        <h3>Как выбрать самые свежие овощи?</h3>
        <p>Несколько простых советов, которые помогут вам выбрать самые качественные и спелые овощи на рынке.</p>
    </article>
    
    <!-- Статья 2 -->
    <article class="blog-card">
        <div class="blog-category">Новости</div>
        <div class="blog-date">15 марта 2024 г.</div>
        <h3>Открытие нового тепличного комплекса</h3>
        <p>Мы рады сообщить о запуске современной теплицы, которая позволит нам выращивать овощи круглый год.</p>
    </article>
    
    <!-- Статья 3 -->
    <article class="blog-card">
        <div class="blog-category">События</div>
        <div class="blog-date">10 марта 2024 г.</div>
        <h3>Экскурсия на ферму для детей</h3>
        <p>В минувшие выходные мы провели увлекательную экскурсию для школьников, чтобы показать, как работает ферма.</p>
    </article>
</div>
        <!-- Кнопка для подгрузки дополнительных статей -->
        <div class="blog-load-more">
            <button class="btn" id="load-more-btn">
                <span>Загрузить больше статей</span>
                <div class="loading-spinner"></div>
            </button>
        </div>
    </section>

    <!-- ========== SECTION: КОНТАКТНАЯ ФОРМА ========== -->
    <section id="contact" class="section">
        <div class="section-title">
            <h2>Свяжитесь с фермером</h2>
            <p>Оставьте заявку, и наш фермер свяжется с вами для оформления заказа</p>
        </div>
        
        <!-- Основная форма в подвале. Данные отправляются на сервис Formcarry -->
        <form class="contact-form" id="contact-form" action="https://formcarry.com/s/YhinEAy4WWS" method="POST" accept-charset="UTF-8">
            <!-- Скрытое поле для защиты от спам-ботов -->
            <input type="hidden" name="_gotcha" style="display:none !important">
            
            <div class="form-group">
                <label for="name">Ваше имя *</label>
                <input type="text" id="name" name="name" required minlength="2" placeholder="Иван Петров">
            </div>
            
            <div class="form-group">
                <label for="email">Электронная почта *</label>
                <input type="email" id="email" name="email" required placeholder="example@mail.ru">
            </div>
            
            <div class="form-group">
                <label for="message">Ваше сообщение *</label>
                <textarea id="message" name="message" rows="5" required placeholder="Напишите ваш вопрос или заказ..." minlength="10"></textarea>
            </div>
            
            <button type="submit" class="btn">Отправить заявку</button>
            
            <!-- Сюда будет выводиться сообщение об успехе/ошибке после отправки -->
            <div class="form-message" id="form-message"></div>
        </form>
    </section>

    <!-- ========== FOOTER / ПОДВАЛ САЙТА ========== -->
    <footer>
        <div class="footer-content">
            <div class="footer-logo"><i class="fas fa-crown"></i> Клеш<span>Рояль</span></div>
            <ul class="footer-links">
                <li><a href="#">Главная</a></li>
                <li><a href="#products">Урожай</a></li>
                <li><a href="#calculator">Калькулятор</a></li>
                <li><a href="#gallery">Галерея</a></li>
                <li><a href="#contact">Контакты</a></li>
            </ul>
            <div class="quote-section">
                <p class="inspiration-quote">
                   Сделано лучшим игроком в Клеш Рояль Ларионом Ковганом и худшим игроком Эдуардом Мхитаряном
                </p>
            </div>
            <div class="social-links">
                <a href="#"><i class="fab fa-vk"></i></a>
                <a href="#"><i class="fab fa-telegram"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
            <div class="copyright">© 2023 Весёлая Ферма "Клеш Рояль". Все права защищены.</div>
        </div>
    </footer>

    <!-- ========== MODAL / МОДАЛЬНОЕ ОКНО ========== -->
    <!-- Всплывающее окно, которое открывается по кнопке "Связь с нами" -->
    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="modal" id="contact-modal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <h2>Связь с фермером</h2>
            <!-- Форма внутри модального окна (копия основной, но с другими id) -->
            <form id="modal-contact-form" action="https://formcarry.com/s/YhinEAy4WWS" method="POST" accept-charset="UTF-8">
                <input type="hidden" name="_gotcha" style="display:none !important">
                <div class="form-group">
                    <label for="modal-name">Ваше имя *</label>
                    <input type="text" id="modal-name" name="name" required minlength="2">
                </div>
                <div class="form-group">
                    <label for="modal-email">Электронная почта *</label>
                    <input type="email" id="modal-email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="modal-message">Сообщение *</label>
                    <textarea id="modal-message" name="message" rows="4" required minlength="10"></textarea>
                </div>
                <button type="submit" class="btn">Отправить</button>
                <div class="form-message" id="modal-form-message"></div>
            </form>
        </div>
    </div>

<script>
// ========== ГЛОБАЛЬНЫЕ ПЕРЕМЕННЫЕ И СОСТОЯНИЕ ==========
document.addEventListener('DOMContentLoaded', function() {
    console.log('Сайт "Клеш Рояль" загружен!');
    
    // Состояние слайдера галереи
    let currentSlide = 0;
    const totalSlides = document.querySelectorAll('.gallery-slide').length;
    
    // ========== ИНИЦИАЛИЗАЦИЯ МОБИЛЬНОГО МЕНЮ ==========
    const burgerBtn = document.getElementById('burgerBtn');
    const mobileMenu = document.createElement('div');
    const mobileOverlay = document.createElement('div');
    
    // Создаём мобильное меню и добавляем его в тело документа
    function initMobileMenu() {
        if (!burgerBtn) return;
        
        // Создаём структуру мобильного меню
        mobileMenu.className = 'mobile-menu';
        mobileMenu.innerHTML = `
            <button class="menu-close" id="menuClose"><i class="fas fa-times"></i></button>
            <ul>
                <li><a href="#"><i class="fas fa-home"></i> Главная</a></li>
                <li><a href="#products"><i class="fas fa-carrot"></i> Урожай</a></li>
                <li><a href="#calculator"><i class="fas fa-calculator"></i> Калькулятор</a></li>
                <li><a href="#gallery"><i class="fas fa-images"></i> Галерея</a></li>
                <li><a href="#contact"><i class="fas fa-address-book"></i> Контакты</a></li>
                <li><a href="#" id="mobile-contact-btn" class="btn"><i class="fas fa-comment-dots"></i> Связь с нами</a></li>
            </ul>
        `;
        
        // Создаём оверлей (затемнение фона)
        mobileOverlay.className = 'mobile-overlay';
        
        document.body.appendChild(mobileMenu);
        document.body.appendChild(mobileOverlay);
        
        const menuCloseBtn = document.getElementById('menuClose');
        const mobileContactBtn = document.getElementById('mobile-contact-btn');
        
        // Открытие мобильного меню
        burgerBtn.addEventListener('click', function() {
            mobileMenu.classList.add('active');
            mobileOverlay.classList.add('active');
            burgerBtn.classList.add('active');
            document.body.style.overflow = 'hidden'; // Блокируем прокрутку страницы
        });
        
        // Закрытие мобильного меню
        function closeMobileMenu() {
            mobileMenu.classList.remove('active');
            mobileOverlay.classList.remove('active');
            burgerBtn.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        menuCloseBtn.addEventListener('click', closeMobileMenu);
        mobileOverlay.addEventListener('click', closeMobileMenu);
        
        // Закрытие меню при клике на ссылку внутри него
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', closeMobileMenu);
        });
        
        // Кнопка "Связь с нами" в мобильном меню открывает модальное окно
        if (mobileContactBtn) {
            mobileContactBtn.addEventListener('click', function(e) {
                e.preventDefault();
                closeMobileMenu();
                openModal();
            });
        }
    }
    
    // ========== ВЫБОР ЦВЕТА ПРОДУКТА (СМЕНА ИЗОБРАЖЕНИЯ) ==========
    function initColorPickers() {
        const colorOptions = document.querySelectorAll('.color-option');
        
        console.log('Найдено элементов для выбора цвета:', colorOptions.length);
        
        colorOptions.forEach(option => {
            option.addEventListener('click', function() {
                const productId = this.getAttribute('data-product');
                const imgUrl = this.getAttribute('data-img');
                
                console.log('Клик по цвету:', productId, imgUrl);
                
                // Убираем активный класс у всех кнопок в этой группе
                const parent = this.closest('.color-options');
                parent.querySelectorAll('.color-option').forEach(opt => {
                    opt.classList.remove('active');
                });
                
                // Добавляем активный класс нажатой кнопке
                this.classList.add('active');
                
                // Меняем основное изображение продукта
                const productImg = document.getElementById(`product-${productId}-img`);
                if (productImg && imgUrl) {
                    productImg.src = imgUrl;
                    productImg.alt = this.getAttribute('title') || 'Продукт';
                    console.log('Изображение изменено на:', imgUrl);
                } else {
                    console.error('Не найден элемент productImg или URL');
                }
            });
        });
    }
    
    // ========== СЛАЙДЕР ГАЛЕРЕИ ==========
    function initGallerySlider() {
        const slider = document.querySelector('.gallery-slider');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const dots = document.querySelectorAll('.gallery-dot');
        
        if (!slider || !prevBtn || !nextBtn) return;
        
        // Функция обновления положения слайдера и активной точки
        function updateSlider() {
            // Сдвигаем дорожку слайдера на ширину текущего слайда
            slider.style.transform = `translateX(-${currentSlide * 100}%)`;
            
            // Обновляем активную точку
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }
        
        // Переход к следующему слайду
        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateSlider();
        }
        
        // Переход к предыдущему слайду
        function prevSlide() {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            updateSlider();
        }
        
        // Переход к конкретному слайду по клику на точку
        function goToSlide(slideIndex) {
            currentSlide = slideIndex;
            updateSlider();
        }
        
        // Назначаем обработчики событий
        nextBtn.addEventListener('click', nextSlide);
        prevBtn.addEventListener('click', prevSlide);
        
        dots.forEach(dot => {
            dot.addEventListener('click', function() {
                const slideIndex = parseInt(this.getAttribute('data-slide'));
                goToSlide(slideIndex);
            });
        });
        
        // Автопрокрутка слайдера каждые 5 секунд
        let autoSlideInterval = setInterval(nextSlide, 5000);
        
        // Останавливаем автопрокрутку при наведении мыши на слайдер
        slider.addEventListener('mouseenter', () => {
            clearInterval(autoSlideInterval);
        });
        
        // Возобновляем автопрокрутку, когда мышь убрали
        slider.addEventListener('mouseleave', () => {
            autoSlideInterval = setInterval(nextSlide, 5000);
        });
        
        // Инициализация начального состояния
        updateSlider();
    }
    
    // ========== КАЛЬКУЛЯТОР СТОИМОСТИ ==========
    function initCalculator() {
        const productSelect = document.getElementById('product');
        const quantitySlider = document.getElementById('quantity');
        const quantityValue = document.getElementById('quantityValue');
        const deliverySelect = document.getElementById('delivery');
        const totalPriceElement = document.getElementById('total-price');
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        
        if (!productSelect || !quantitySlider || !deliverySelect || !totalPriceElement) return;
        
        // Функция форматирования числа (добавляет пробелы между разрядами)
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
        }
        
        // Основная функция пересчёта стоимости
        function calculateTotal() {
            // Получаем значения из формы
            const productPrice = parseInt(productSelect.value);
            const quantity = parseInt(quantitySlider.value);
            const deliveryCost = parseInt(deliverySelect.value);
            
            // Считаем стоимость дополнительных опций
            let extraCost = 0;
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    extraCost += parseInt(checkbox.value);
                }
            });
            
            // Вычисляем итоговую стоимость
            const totalPrice = (productPrice * quantity) + deliveryCost + extraCost;
            
            // Обновляем отображаемые значения
            quantityValue.textContent = quantity;
            totalPriceElement.textContent = formatNumber(totalPrice) + ' ₽';
            
            // Получаем текстовые названия выбранных опций для подсказки
            const productText = productSelect.options[productSelect.selectedIndex].text.split(' (')[0];
            const deliveryText = deliverySelect.options[deliverySelect.selectedIndex].text.split(' (')[0];
            
            // Формируем подробную подсказку
            let hintText = `(${quantity} ${productText.toLowerCase()} × ${formatNumber(productPrice)} ₽`;
            if (deliveryCost > 0) hintText += ` + доставка ${formatNumber(deliveryCost)} ₽`;
            if (extraCost > 0) hintText += ` + опции ${formatNumber(extraCost)} ₽`;
            hintText += `)`;
            
            // Обновляем текст подсказки под итоговой ценой
            const hintElement = document.querySelector('.hint');
            if (hintElement) {
                hintElement.textContent = hintText;
            }
        }
        
        // Назначаем обработчики событий на все элементы калькулятора
        productSelect.addEventListener('change', calculateTotal);
        quantitySlider.addEventListener('input', calculateTotal);
        deliverySelect.addEventListener('change', calculateTotal);
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', calculateTotal);
        });
        
        // Инициализация при загрузке страницы
        calculateTotal();
    }
    
    // ========== ДИНАМИЧЕСКИЙ БЛОГ ==========
    function initBlog() {
        const blogGrid = document.getElementById('blog-grid');
        const categoryBtns = document.querySelectorAll('.category-btn');
        const searchInput = document.getElementById('blog-search');
        const searchBtn = document.getElementById('searchBtn');
        const loadMoreBtn = document.getElementById('load-more-btn');
        
        if (!blogGrid) {
            console.error('Не найден элемент blog-grid');
            return;
        }
        
        console.log('Инициализация блога...');
        
        // Массив с данными статей блога
        const blogPosts = [
            { id: 1, category: 'tips', date: '20 марта 2024 г.', title: 'Как выбрать самые свежие овощи?', content: 'Несколько простых советов, которые помогут вам выбрать самые качественные и спелые овощи на рынке.' },
            { id: 2, category: 'news', date: '15 марта 2024 г.', title: 'Открытие нового тепличного комплекса', content: 'Мы рады сообщить о запуске современной теплицы, которая позволит нам выращивать овощи круглый год.' },
            { id: 3, category: 'events', date: '10 марта 2024 г.', title: 'Экскурсия на ферму для детей', content: 'В минувшие выходные мы провели увлекательную экскурсию для школьников, чтобы показать, как работает ферма.' },
            { id: 4, category: 'tips', date: '5 марта 2024 г.', title: 'Домашний пирог с фермерскими ягодами', content: 'Поделимся с вами простым и вкусным рецептом пирога, который можно приготовить из нашей клубники.' },
            { id: 5, category: 'news', date: '28 февраля 2024 г.', title: 'Новая порода кур-несушек', content: 'На ферму прибыли куры редкой породы, которые несут разноцветные яйца!' },
            { id: 6, category: 'events', date: '20 февраля 2024 г.', title: 'Фестиваль урожая "Клеш Рояль"', content: 'Приглашаем всех на наш ежегодный фестиваль урожая с конкурсами, угощениями и экскурсиями.' }
        ];
        
        let currentCategory = 'all';
        let currentSearch = '';
        let displayedPosts = 3; // Сколько статей показывать изначально
        
        // Функция отображения статей с учётом фильтров
        function displayPosts() {
            blogGrid.innerHTML = '';
            
            // Фильтрация статей по категории и поисковому запросу
            const filteredPosts = blogPosts.filter(post => {
                const matchesCategory = currentCategory === 'all' || post.category === currentCategory;
                const matchesSearch = currentSearch === '' || 
                    post.title.toLowerCase().includes(currentSearch.toLowerCase()) ||
                    post.content.toLowerCase().includes(currentSearch.toLowerCase());
                return matchesCategory && matchesSearch;
            });
            
            console.log('Отфильтровано статей:', filteredPosts.length);
            
            // Отображение только части статей (для кнопки "Загрузить больше")
            const postsToShow = filteredPosts.slice(0, displayedPosts);
            
            // Если статей нет, показываем сообщение
            if (postsToShow.length === 0) {
                blogGrid.innerHTML = '<div class="no-posts"><p>Статьи не найдены. Попробуйте изменить критерии поиска.</p></div>';
                if (loadMoreBtn) loadMoreBtn.style.display = 'none';
                return;
            }
            
            // Создание HTML-карточек для каждой статьи
            postsToShow.forEach(post => {
                const postElement = document.createElement('article');
                postElement.className = 'blog-card';
                postElement.innerHTML = `
                    <div class="blog-category">${getCategoryName(post.category)}</div>
                    <div class="blog-date">${post.date}</div>
                    <h3>${post.title}</h3>
                    <p>${post.content}</p>
                `;
                blogGrid.appendChild(postElement);
            });
            
            console.log('Отображено статей:', postsToShow.length);
            
            // Показываем/скрываем кнопку "Загрузить больше"
            if (loadMoreBtn) {
                if (displayedPosts >= filteredPosts.length) {
                    loadMoreBtn.style.display = 'none';
                } else {
                    loadMoreBtn.style.display = 'block';
                }
            }
        }
        
        // Преобразуем код категории в читаемое название
        function getCategoryName(categoryCode) {
            const names = {
                'news': 'Новости',
                'tips': 'Советы',
                'events': 'События'
            };
            return names[categoryCode] || 'Блог';
        }
        
        // Фильтрация по категориям
        categoryBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                // Убираем активный класс у всех кнопок
                categoryBtns.forEach(b => b.classList.remove('active'));
                // Добавляем активный класс нажатой кнопке
                this.classList.add('active');
                // Устанавливаем текущую категорию
                currentCategory = this.getAttribute('data-category');
                displayedPosts = 3; // Сбрасываем счётчик показанных статей
                displayPosts();
            });
        });
        
        // Поиск по статьям
        if (searchInput && searchBtn) {
            searchBtn.addEventListener('click', function() {
                currentSearch = searchInput.value;
                displayedPosts = 3;
                displayPosts();
            });
            
            searchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Enter') {
                    currentSearch = searchInput.value;
                    displayedPosts = 3;
                    displayPosts();
                }
            });
        }
        
        // Кнопка "Загрузить больше"
        if (loadMoreBtn) {
            loadMoreBtn.addEventListener('click', function() {
                displayedPosts += 3;
                displayPosts();
            });
        }
        
        // Инициализация блога при загрузке страницы
        displayPosts();
    }
    
    // ========== МОДАЛЬНОЕ ОКНО И ФОРМЫ ==========
    function initModalAndForms() {
        const contactBtn = document.getElementById('contact-btn');
        const modalOverlay = document.getElementById('modalOverlay');
        const contactModal = document.getElementById('contact-modal');
        const closeModalBtn = document.getElementById('closeModal');
        const contactForm = document.getElementById('contact-form');
        const modalContactForm = document.getElementById('modal-contact-form');
        
        // Функция открытия модального окна
        function openModal() {
            if (modalOverlay && contactModal) {
                modalOverlay.classList.add('active');
                contactModal.classList.add('active');
                document.body.style.overflow = 'hidden'; // Блокируем прокрутку страницы
            }
        }
        
        // Функция закрытия модального окна
        function closeModal() {
            if (modalOverlay && contactModal) {
                modalOverlay.classList.remove('active');
                contactModal.classList.remove('active');
                document.body.style.overflow = ''; // Восстанавливаем прокрутку
            }
        }
        
        // Открытие модального окна по кнопке "Связь с нами"
        if (contactBtn) {
            contactBtn.addEventListener('click', function(e) {
                e.preventDefault();
                openModal();
            });
        }
        
        // Закрытие модального окна
        if (closeModalBtn) {
            closeModalBtn.addEventListener('click', closeModal);
        }
        
        if (modalOverlay) {
            modalOverlay.addEventListener('click', closeModal);
        }
        
        // Закрытие по клавише ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && contactModal.classList.contains('active')) {
                closeModal();
            }
        });
        
        // Функция обработки отправки формы
        function handleFormSubmit(e, form, messageElementId) {
            e.preventDefault(); // Отменяем стандартную отправку формы
            
            const formData = new FormData(form);
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalBtnText = submitBtn.innerHTML;
            const messageElement = document.getElementById(messageElementId);
            
            // Валидация полей
            let isValid = true;
            form.querySelectorAll('[required]').forEach(field => {
                if (!field.value.trim()) {
                    isValid = false;
                    field.style.borderColor = '#F44336';
                } else {
                    field.style.borderColor = '';
                }
            });
            
            if (!isValid) {
                showMessage(messageElement, 'Пожалуйста, заполните все обязательные поля.', 'error');
                return;
            }
            
            // Показываем индикатор загрузки
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Отправка...';
            submitBtn.disabled = true;
            
            // В реальном проекте здесь должен быть fetch-запрос к серверу
            // Для примера имитируем задержку сети
            setTimeout(() => {
                // Имитация успешной отправки
                showMessage(messageElement, 'Спасибо! Ваше сообщение отправлено. Мы свяжемся с вами в ближайшее время.', 'success');
                form.reset();
                
                // Восстанавливаем кнопку
                submitBtn.innerHTML = originalBtnText;
                submitBtn.disabled = false;
                
                // Закрываем модальное окно через 2 секунды после успешной отправки
                if (form === modalContactForm) {
                    setTimeout(closeModal, 2000);
                }
            }, 1500);
        }
        
        // Функция показа сообщения
        function showMessage(element, text, type) {
            if (!element) return;
            
            element.textContent = text;
            element.className = `form-message ${type}`;
            
            // Автоматическое скрытие сообщения через 5 секунд
            setTimeout(() => {
                element.className = 'form-message';
            }, 5000);
        }
        
        // Обработка отправки основной формы
        if (contactForm) {
            contactForm.addEventListener('submit', function(e) {
                handleFormSubmit(e, this, 'form-message');
            });
        }
        
        // Обработка отправки формы в модальном окне
        if (modalContactForm) {
            modalContactForm.addEventListener('submit', function(e) {
                handleFormSubmit(e, this, 'modal-form-message');
            });
        }
        
        // ВАЖНО: Для реальной работы форм замените ВАШ_КЛЮЧ_API в атрибуте action формы
        // на ваш реальный ключ от сервиса Formcarry (https://formcarry.com)
        console.log('Для работы форм замените "ВАШ_КЛЮЧ_API" в атрибуте action на ваш ключ от Formcarry.');
    }
    
    // ========== ИНИЦИАЛИЗАЦИЯ ВСЕХ МОДУЛЕЙ ==========
    initMobileMenu();
    initColorPickers();
    initGallerySlider();
    initCalculator();
    initBlog();
    initModalAndForms();
    
    // ========== ДОПОЛНИТЕЛЬНЫЕ ФУНКЦИИ ==========
    
    // Плавная прокрутка к якорным ссылкам
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            
            // Пропускаем ссылки на другие страницы и ссылки "#"
            if (href === '#' || href.includes('javascript')) return;
            
            const targetElement = document.querySelector(href);
            if (targetElement) {
                e.preventDefault();
                
                // Плавная прокрутка к элементу
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Обновление года в футере
    const yearElements = document.querySelectorAll('.copyright');
    yearElements.forEach(el => {
        if (el.textContent.includes('2023')) {
            el.textContent = el.textContent.replace('2023', new Date().getFullYear());
        }
    });
    
    console.log('Все модули сайта успешно инициализированы!');
});
</script>

    <script>
// Решение для Formcarry на вашем сайте
document.addEventListener('DOMContentLoaded', function() {
    
    // Обработка ОСНОВНОЙ формы
    const mainForm = document.getElementById('contact-form');
    if (mainForm) {
        mainForm.addEventListener('submit', function(e) {
            e.preventDefault();
            sendFormToFormcarry(this, 'form-message');
        });
    }
    
    // Обработка МОДАЛЬНОЙ формы
    const modalForm = document.getElementById('modal-contact-form');
    if (modalForm) {
        modalForm.addEventListener('submit', function(e) {
            e.preventDefault();
            sendFormToFormcarry(this, 'modal-form-message');
        });
    }
    
    // Функция отправки
    async function sendFormToFormcarry(form, messageId) {
        const formData = new FormData(form);
        const submitBtn = form.querySelector('button[type="submit"]');
        const messageDiv = document.getElementById(messageId);
        const originalText = submitBtn.textContent;
        
        // Показываем загрузку
        submitBtn.textContent = '⏳ Отправка...';
        submitBtn.disabled = true;
        if (messageDiv) {
            messageDiv.textContent = 'Отправляем сообщение...';
            messageDiv.className = 'form-message sending';
        }
        
        try {
            // Отправка на Formcarry
            const response = await fetch(form.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            });
            
            const result = await response.json();
            
            if (response.ok && result.code === 200) {
                // Успех
                if (messageDiv) {
                    messageDiv.textContent = '✅ Сообщение успешно отправлено!';
                    messageDiv.className = 'form-message success';
                }
                form.reset();
                
                // Закрываем модальное окно, если оно есть
                const modal = form.closest('.modal');
                if (modal) {
                    setTimeout(() => {
                        modal.style.display = 'none';
                    }, 2000);
                }
            } else {
                // Ошибка Formcarry
                if (messageDiv) {
                    messageDiv.textContent = '❌ Ошибка: ' + (result.message || 'Попробуйте еще раз');
                    messageDiv.className = 'form-message error';
                }
            }
        } catch (error) {
            // Сетевая ошибка
            if (messageDiv) {
                messageDiv.textContent = '❌ Ошибка сети. Проверьте соединение.';
                messageDiv.className = 'form-message error';
            }
            console.error('Formcarry ошибка:', error);
        } finally {
            // Восстанавливаем кнопку
            submitBtn.textContent = originalText;
            submitBtn.disabled = false;
            
            // Автоочистка сообщения через 5 секунд
            if (messageDiv) {
                setTimeout(() => {
                    messageDiv.textContent = '';
                    messageDiv.className = 'form-message';
                }, 5000);
            }
        }
    }
});
</script>
</body>
</html>













